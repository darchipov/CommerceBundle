{% extends "EkynaAdminBundle:Entity/Default:show.html.twig" %}

{% import "EkynaCommerceBundle:Admin/Product:_macro.html.twig" as macros %}

{% block title %}
    <h1>{{ 'ekyna_commerce.product.header.show'|trans({'%name%': product})|raw }}</h1>
{% endblock title %}

{% block actions %}
    {% if product is variant_product %}
        {{ ui_button('ekyna_commerce.product.field.parent', {
            'type': 'link',
            'icon': 'arrow-up',
            'path': admin_resource_path(product.parent)
        }) }}
    {% endif %}
    {{ admin_resource_btn(product, 'list') }}
    {{ macros.new_product_button() }}
{% endblock actions %}

{% block main %}
<div class="actions">
    {{ admin_resource_btn(product, 'edit') }}
    {{ admin_resource_btn(product, 'remove') }}
</div>
<div class="show show-with-tabs">
    <ul class="nav nav-tabs">
        <li class="active">
            <a href="#product-general" data-toggle="tab">
                {{ 'ekyna_core.field.general'|trans }}
            </a>
        </li>
        {#<li>
            <a href="#product-details" data-toggle="tab">{{ 'ekyna_commerce.product.field.details'|trans }}</a>
        </li>
        <li>
            <a href="#product-payments" data-toggle="tab">{{ 'ekyna_commerce.payment.label.plural'|trans }}</a>
        </li>
        <li>
            <a href="#product-shipments" data-toggle="tab">{{ 'ekyna_commerce.shipment.label.plural'|trans }}</a>
        </li>#}
    </ul>
    <div class="show-body">
        <div class="tab-content">
            <div class="tab-pane active" id="product-general">
                {% include "EkynaCommerceBundle:Admin/Product/Show:general.html.twig" %}
            </div>
            {#<div class="tab-pane" id="product-details">
                {% include "EkynaCommerceBundle:Admin/Product/Show:details.html.twig" %}
            </div>
            <div class="tab-pane" id="product-payments">
                {% include "EkynaCommerceBundle:Admin/Product/Show:payments.html.twig" %}
            </div>
            <div class="tab-pane" id="product-shipments">
                {% include "EkynaCommerceBundle:Admin/Product/Show:shipments.html.twig" %}
            </div>#}
        </div>
    </div>
</div>

{% if product is variable_product %}
<div class="sub-header">
    <h2>{{ 'ekyna_commerce.variant.header.list'|trans|raw }}</h2>
</div>
<div class="actions">
    {{ admin_resource_btn('ekyna_commerce.product', 'new', {
        'label': 'ekyna_commerce.variant.button.new',
        'path': path('ekyna_commerce_product_admin_new', {
            'parent': product.id,
            'type': 'variant'
        })
    }) }}
</div>
{{ ekyna_table_render(variants) }}
{% endif %}
{% endblock %}
